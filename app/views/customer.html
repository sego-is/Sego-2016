<div class="haus">VIÐSKIPTAVINIR
  <i class="fa fa-users"></i>
  <button type="button"
          class="close takki"
          ng-click="closeWindow()">&times;
  </button>
</div>

<div class="content">
    
  <table class="table table-striped">
    <thead ng-if="!modifyCus">
    <tr>
        <form class="form-inline">
            <div class="form-group">
                <input type="text" ng-model="search" class="form-control" placeholder="Leita..">
            </div>
        </form>
      <th>
        <div class="pull-left">Nafn</div>
      </th>
      <th>Símanúmer</th>
      <th>Netfang</th>
      <th>
        <div class="pull-right">
          <button class="eigandi-addHairdresser glyphicon glyphicon-plus"
                  ng-click="newCus()"
                  data-toggle="tooltip"
                  data-placement="auto"
                  title="Bæta við viðskiptavin">
          </button>
        </div>
      </th>
    </tr>
    </thead>
    <tbody ng-if="modifyCus && !newCustomer">
    <tr>
      <td colspan="4">
        <form name="form.customerForm"
              class="form-horizontal"
              novalidate>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="text"
                   name="name"
                   ng-class="{error: (badInput && form.customerForm.name.$error.required)
                                  || (badInput && form.customerForm.name.$error.maxlength)
                                  || (badInput && form.customerForm.name.$error.minlength)}"
                   ng-click="badInputFalse()"
                   ng-minlength="3"
                   ng-maxlength="44"
                   class="form-control"
                   ng-model="person.name"
                   placeholder="Nafn"
                   required>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="number"
                   class="form-control"
                   ng-click="badInputFalse()"
                   ng-class="{error: (badInput && form.customerForm.phone.$error.required)
                                  || (badInput && form.customerForm.phone.$error.maxlength)
                                  || (badInput && form.customerForm.phone.$error.minlength)}"
                   ng-minlength="7"
                   ng-maxlength="7"
                   name="phone"
                   ng-model="person.phone"
                   placeholder="Símanúmer"
                   required>
            </div>
          </div>

          <div class="form-group row">
            <div class="col-xs-11">
            <input type="email"
                   class="form-control"
                   name="email"
                   ng-model="person.email"
                   placeholder="Netfang">
            </div>
          </div>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="text"
                   class="form-control"
                   name="address"
                   ng-model="person.address"
                   placeholder="Heimilisfang">
            </div>
        </form>
      </td>
    </tr>
    <tr>
        <td>
        nafn: <span ng-bind="person.name"></span>
        símí: <span ng-bind="person.phone"></span>
        netfang: <span ng-bind="person.email"></span>
        heimilisfang: <span ng-bind="person.address"></span>
        </td>
    </tr>
    <tr>
        <td>Dagsetning</td>
        <td>Klippari</td>
        <td>Þjónusta</td>
        <td>Verð</td>
    </tr>
    <tr ng-repeat="hist in person.history track by $index">
        <td>{{ hist.startTime }}</td>
        <td ng-bind="returnStaff(hist.staff_id)">{{ hist.staff_id }}</td>
        <td>
            <ul>
                <li ng-repeat="serv in hist.service">{{ serv }}</li>
            </ul>
        </td>
        <td>{{ totalPrice[$index] }}</td>
    </tr>
    </tbody>
    
    <tbody ng-if="modifyCus && newCustomer">
    <tr>
      <td colspan="4">
        <form name="form.customerForm"
              class="form-horizontal"
              novalidate>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="text"
                   name="name"
                   ng-class="{error: (badInput && form.customerForm.name.$error.required)
                                  || (badInput && form.customerForm.name.$error.maxlength)
                                  || (badInput && form.customerForm.name.$error.minlength)}"
                   ng-click="badInputFalse()"
                   ng-minlength="3"
                   ng-maxlength="44"
                   class="form-control"
                   ng-model="person.name"
                   placeholder="Nafn"
                   required>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="number"
                   class="form-control"
                   ng-click="badInputFalse()"
                   ng-class="{error: (badInput && form.customerForm.phone.$error.required)
                                  || (badInput && form.customerForm.phone.$error.maxlength)
                                  || (badInput && form.customerForm.phone.$error.minlength)}"
                   ng-minlength="7"
                   ng-maxlength="7"
                   name="phone"
                   ng-model="person.phone"
                   placeholder="Símanúmer"
                   required>
            </div>
          </div>

          <div class="form-group row">
            <div class="col-xs-11">
            <input type="email"
                   class="form-control"
                   name="email"
                   ng-model="person.email"
                   placeholder="Netfang">
            </div>
          </div>
          <div class="form-group row">
            <div class="col-xs-11">
            <input type="text"
                   class="form-control"
                   name="address"
                   ng-model="person.address"
                   placeholder="Heimilisfang">
            </div>
          </div>
          <div class="form-group row col-xs-11">
            <div class="takkar col-md-offset-8 col-xs-offset-7">
              <button type="submit"
                      id="haettavidtakki"
                      class="btn btn-primary"
                      ng-click="toggleCus()">Hætta við
              </button>
              <button type="submit"
                      id="uppfaeratakki"
                      class="btn btn-primary"
                      ng-click="addCustomer(person)">Bæta við
              </button>
            </div>
          </div>
        </form>
      </td>
    </tr>
    </tbody>
    <!------------------------------------------------------------------------------------------->
    <!-------------------------          Viðskiptavinir          -------------------------------->
    <!------------------------------------------------------------------------------------------->
    <tbody ng-if="!modifyCus">
        <tr dir-paginate="vinur in vidskiptavinir|orderBy:sortKey:reverse|filter:search|itemsPerPage:10" ng-click="editCust(vinur)">
        <td>{{ vinur.name }}</td>
        <td>{{ vinur.phone }}</td>
        <td>{{ vinur.email }}</td>
        <td></td>
        </tr>
        <tr>
            <td colspan="4" style="text-align:center;">
                <dir-pagination-controls
                max-size="10"
                direction-links="true"
                boundary-links="true" >
                </dir-pagination-controls>
        </td>
        </tr>
    </tbody>
  </table>
</div>

<div class="footer">SEGO</div>
i